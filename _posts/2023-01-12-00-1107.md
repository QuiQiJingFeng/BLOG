---
layout: post
title:  "Shader 绘图"
image: ''
date:   2023-01-12 14:49:06
tags:
- Shader
description: ''
categories: 
- Shader
---
[参考文档](https://thebookofshaders.com/05/?lan=ch)
# 1、绘制一条求 X 的5次方的曲线
```c
#ifdef GL_ES
precision mediump float;
#endif

#define PI 3.14159265359

uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;

float plot(vec2 st, float pct){
    // 第一个smoothstep [pct-0.02,pct]的区间  
    // 第一个smoothstep [pct,pct + 0.02]的区间
    // 因为smoothstep 区间外左边为0,右边为1,两个这样相减的话,就能保证两个区间组合外都为0
    // 相减的两个区间,必须保证第一个的有区间等于第二个的左区间=.+
    // 即[pct-0.02,pct+0.02]之外都为0,区间之内进行插值
  return  smoothstep( pct-0.02, pct, st.y) -
          smoothstep( pct, pct+0.02, st.y);
}

void main() {
    //将像素点坐标转换到[0,1]范围内
    vec2 st = gl_FragCoord.xy/u_resolution;
    //求出当前像素点的5次方的值y
    float y = pow(st.x,5.0);

    vec3 color = vec3(y);
    //取区间为[y-0.02,y+0.02]之间的值进行插值,区间外的值丢弃
    float pct = plot(st,y);
    //(1.0-pct)*color 对区间之外的值使用vec3(y)的颜色
    //pct*vec3(0.0,1.0,0.0) 对区间之内的值使用绿色
    color = (1.0-pct)*color+pct*vec3(0.0,1.0,0.0);

    gl_FragColor = vec4(color,1.0);
}

```
![图片](..\assets\img\opengl\x^5.png)

# 2、三角函数与圆的关系 
```lua
--根据给定的圆心和半径以及角度值返回一个圆上的点的坐标
local function getCirclePosition(center,radius,degree)
    --角度转弧度
    local radian = math.rad(degree)
    --当我们给出一个角度（这里采用弧度制），它就会返回半径为一的圆上一个点的 x 坐标（cos）和 y 坐标（sin）
    local x = center.x + math.cos(radian) * radius
    local y = center.y + math.sin(radian) * radius
    return cc.p(x,y)
end
```